USE GRAPH lsqb
SET syntax_version="v2"

CREATE OR REPLACE DISTRIBUTED QUERY q9(){
SumACCUM<UINT> @@count;
OrAccum<BOOL> @isKnown;

person3 = SELECT p3
	FROM Tag -(<HAS_INTEREST)- Person:p3 -(KNOWS)- Person:p2
	Accum p2.@isKnown+=true;

tmp = SELECT p1
	FROM person3:p3 -(KNOWS)- Person:p2 -(KNOWS)- Person:p1
	WHERE p1.ID!=p3.ID AND NOT p1.@isknown;
	Accum @@count+=1;

PRINT @@count;
}